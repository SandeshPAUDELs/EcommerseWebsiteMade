<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Items</title>
    <link rel="stylesheet" href="css/index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <!-- Font Awesome -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
rel="stylesheet"
/>
<!-- Google Fonts -->
<link
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
rel="stylesheet"
/>
<!-- MDB -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css"
rel="stylesheet"
/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.15/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.15/dist/sweetalert2.all.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
        <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top">
    <!-- Container wrapper -->
    <div class="container-fluid">
      <!-- Toggle button -->
      <button
        class="navbar-toggler"
        type="button"
        data-mdb-toggle="collapse"
        data-mdb-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <i class="fas fa-bars"></i>
      </button>
  
      <!-- Collapsible wrapper -->
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <!-- Navbar brand -->
        <a class="navbar-brand mt-2 mt-lg-0" href="index.html">
         
          <p style = "height: 25px; color: rgb(108, 140, 108);">t<span>I</span>0<span>0</span><sup>^</sup><sub>&</sub></p>
        </a>
        <!-- Left links -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="productsForyou.html">Products</a>
          </li>
           
        <!-- Left links -->
      </div>
      
      <!-- Right elements -->
      <div class="d-flex align-items-center">
        <!-- Icon -->
        <a class="link-secondary me-3" href="shopping-cart.html">
          <i class="fas fa-shopping-cart"></i>
        </a>
  
        <!-- Notifications -->
        <div class="dropdown">
          <a
            class="link-secondary me-3 dropdown-toggle hidden-arrow"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-bell"></i>
            <span class="badge rounded-pill badge-notification bg-danger">1</span>
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuLink"
          >
            <li>
              <a class="dropdown-item" href="#">Some news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Another news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Something else here</a>
            </li>
          </ul>
        </div>
        <!-- Avatar -->
        <div class="dropdown">
          <a
            class="dropdown-toggle d-flex align-items-center hidden-arrow"
            href="#"
            id="navbarDropdownMenuAvatar"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <img
              src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp"
              class="rounded-circle"
              height="25"
              alt="Black and White Portrait of a Man"
              loading="lazy"
            />
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuAvatar"
          >
            <li>
              <a class="dropdown-item" href="profile.html">My profile</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Settings</a>
            </li>
            <li>
              <a class="dropdown-item" href="loginRegister.html">Login Or Register</a>
            </li>
          </ul>
        </div>
      </div>
      <!-- Right elements -->
    </div>
    <!-- Container wrapper -->
  </nav>
  
  
  <h2 class = "container text-center text-muted">Person Order Details come here</h2>
  
 <div id="displayCheckout"></div>

<script>
  const storedCheckoutData = JSON.parse(localStorage.getItem('checkOutData'));

if (storedCheckoutData) {
  let tableHtml = `
    <table>
      <tr>
        <th>FirstName</th>
        <th>lastName</th>
        <th>PhoneNo.</th>
        <th>Email</th>
        <th>Address</th>
        <th>Delivery Status</th>
      </tr>
  `;

  // Loop through the stored data and add rows to the table
  for (const data of storedCheckoutData) {
    tableHtml += `
      <tr>
        <td>${data.FirstName2}</td>
        <td>${data.LastName2}</td>
        <td>${data.PhoneNO}</td>
        <td>${data.userEmail}</td>
        <td>${data.userAddress}</td>
  <td>
    <select name="Status" id="yourSelectElement">
      <option style="color: red;" value="1">Pending</option>
      <option value="2">Awating payment</option>
      <option value="3">Awating Shipping</option>
      <option value="4">Awating Fulfilment</option>
      <option value="5">Cancelled</option>
      <option value="6">Declined</option>
      <option value="7" disabled>Refunded</option>
      <option value="8">Manual Verification Required</option>
      <option value="9">Partially Refunded</option>
    </select>
  </td>
      </tr>
    `;
 
  }

  // Set the HTML content of the displayCheckout element
  document.getElementById('displayCheckout').innerHTML = tableHtml;
  tableHtml += `</table>`;

} 


// Now this is code for Storing the select option data in local storage

document.addEventListener('DOMContentLoaded', function () {
  const selectElement = document.getElementById('yourSelectElement');

  if (selectElement) {
    selectElement.addEventListener('change', function () {
      // Get the selected option
      const selectedOption = selectElement.options[selectElement.selectedIndex];
      const selectedOptionText = selectedOption.text;
      console.log(selectedOptionText)

      // Store the selected option data in local storage
      localStorage.setItem('selectedOptionText', selectedOptionText);
    });
  }
});

</script>
<!-- This is the code where remove button is also added -->
<!--
<script>
  function displayCheckoutData() {
  const storedCheckoutData = JSON.parse(localStorage.getItem('checkOutData'));
  if (storedCheckoutData) {
    let tableHtml = `
      <table>
        <tr>
          <th>FirstName</th>
          <th>lastName</th>
          <th>PhoneNo.</th>
          <th>Email</th>
          <th>Address</th>
          <th>Delivery Status</th>
          <th>Remove</th>
        </tr>
    `;

    // Loop through the stored data and add rows to the table
    for (let i = 0; i < storedCheckoutData.length; i++) {
      const data = storedCheckoutData[i];
      tableHtml += `
        <tr>
          <td>${data.FirstName2}</td>
          <td>${data.LastName2}</td>
          <td>${data.PhoneNO}</td>
          <td>${data.userEmail}</td>
          <td>${data.userAddress}</td>
          <td>
            <select name="Status" id="yourSelectElement">
              <option style="color: red;" value="1">Pending</option>
      <option value="2">Awating payment</option>
      <option value="3">Awating Shipping</option>
      <option value="4">Awating Fulfilment</option>
      <option value="5">Cancelled</option>
      <option value="6">Declined</option>
      <option value="7" disabled>Refunded</option>
      <option value="8">Manual Verification Required</option>
      <option value="9">Partially Refunded</option>
            </select>
          </td>
          <td><button onclick="removeData(${i})">Remove</button></td>
        </tr>
      `;
    }

    document.getElementById('displayCheckout').innerHTML = tableHtml;
  }
}

// Now this is code for Storing the select option data in local storage

document.addEventListener('DOMContentLoaded', function () {
  const selectElement = document.getElementById('yourSelectElement');

  if (selectElement) {
    selectElement.addEventListener('change', function () {
      // Get the selected option
      const selectedOption = selectElement.options[selectElement.selectedIndex];
      const selectedOptionText = selectedOption.text;
      console.log(selectedOptionText)

      // Store the selected option data in local storage
      localStorage.setItem('selectedOptionText', selectedOptionText);
    });
  }
});
function removeData(index) {
  const storedCheckoutData = JSON.parse(localStorage.getItem('checkOutData'));

  if (storedCheckoutData && index >= 0 && index < storedCheckoutData.length) {
    storedCheckoutData.splice(index, 1);

    localStorage.setItem('checkOutData', JSON.stringify(storedCheckoutData));
    displayCheckoutData();
  }
}

displayCheckoutData();

</script> -->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script src = "js/script2.js"></script>
    <script src = "js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <!-- MDB -->
<script
type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"
></script>
</body>
</html>


